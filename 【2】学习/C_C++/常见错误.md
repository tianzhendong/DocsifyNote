[toc]

# 常见错误

## C/C++错误集锦(VS2015)：错误 C2131 表达式的计算结果不是常数

### 问题

```c++
//juzicode.com;vx:桔子code 
//vs2015
#include < iostream >
using namespace std;
int main(void)
{
	int len;
	cin >> len;
	int array[len];
	while (len--){
		cin >> array[len];
	}
	for (int a : array) {
		cout << a << " ";
	}
	return 0;
}
```

![img](https://gitee.com/tianzhendong/img/raw/master//images/202202181643956.png)

### 原因

1、编译期间要根据给定长度为数组分配内存空间，如果数组长度是变量就无法判断该使用多大的空间

### 解决

1、使用动态分配内存的方式：

```c++
//juzicode.com;vx:桔子code 
//vs2015
#include < iostream >
using namespace std;
int main(void)
{
	int len;
	cin >> len;
	int *array = new int[len];//动态分配内存
	int i = len;
	while (i--) {
		cin >> array[i];
	}
	for (int i = 0; i < len;i++) {
		cout << array[i] << " ";
	}
	return 0;
}
```

